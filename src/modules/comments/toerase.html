<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>API Example</title>
  </head>
  <body>
    <pre id="output"></pre>
    <script>
      async function getData() {
        const resp = await fetch('https://api.sampleapis.com/simpsons/episodes/?season=10');
        const json = await resp.json();
        return json;
      }

      async function countOccurrences() {
        const data = await getData();
        return data.length;
      }

      async function main() {
        const data = await getData();
        console.log("ðŸš€ ~ file: toerase.html:23 ~ main ~ data:", data[0].id)
        const output = document.getElementById('output');
        output.textContent = JSON.stringify(data, null, 2);

        const count = await countOccurrences();
        console.log(`Total de ocurrencias: ${count}`);
      }

      main();
    </script>
  </body>
</html>
